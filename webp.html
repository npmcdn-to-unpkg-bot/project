<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		/*img{
			width: 200px;
			height: 200px;
		}*/
	</style>
	<script>
		// check_webp_feature:
		//   'feature' can be one of 'lossy', 'lossless', 'alpha' or 'animation'.
		//   'callback(feature, result)' will be passed back the detection result (in an asynchronous way!)
		function check_webp_feature(feature, callback) {
		    var kTestImages = {
		        lossy: "UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",
		        lossless: "UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",
		        alpha: "UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",
		        animation: "UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"
		    };
		    var img = new Image();
		    img.onload = function () {
		        var result = (img.width > 0) && (img.height > 0);
		        callback(feature, result);
		    };
		    img.onerror = function () {
		        callback(feature, false);
		    };
		    img.src = "data:image/webp;base64," + kTestImages[feature];
		}
		check_webp_feature('lossy',function(feature, result){
			var src ='';
			var webp = document.getElementsByClassName('webp');
			if(!result){
				for(var i=0;i<webp.length;i++){
					webp[i].src = webp[i].getAttribute('data-url');
				}
			}
		})
	</script>

</head>

<body>
	<img class="webp" data-url="1014/images/bggame.jpg" src="1014/images/bggame.webp" alt="">
	<img class="webp" data-url="1014/images/er.png" src="1014/images/er.webp" alt="">
</body>
</html>